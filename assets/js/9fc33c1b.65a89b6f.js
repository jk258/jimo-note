"use strict";(self.webpackChunkjimo=self.webpackChunkjimo||[]).push([[365],{6022:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>i,contentTitle:()=>s,default:()=>p,frontMatter:()=>c,metadata:()=>o,toc:()=>u});var r=n(5893),a=n(1151);const c={},s="vue \u54cd\u5e94\u5f0f\u7b80\u6613\u5b9e\u73b0",o={id:"\u524d\u7aef/\u9762\u8bd5\u9898/vue/vue\u54cd\u5e94\u5f0f\u7b80\u6613\u5b9e\u73b0",title:"vue \u54cd\u5e94\u5f0f\u7b80\u6613\u5b9e\u73b0",description:"\u4f7f\u7528",source:"@site/docs/\u524d\u7aef/\u9762\u8bd5\u9898/vue/vue\u54cd\u5e94\u5f0f\u7b80\u6613\u5b9e\u73b0.md",sourceDirName:"\u524d\u7aef/\u9762\u8bd5\u9898/vue",slug:"/\u524d\u7aef/\u9762\u8bd5\u9898/vue/vue\u54cd\u5e94\u5f0f\u7b80\u6613\u5b9e\u73b0",permalink:"/jimo-note/docs/\u524d\u7aef/\u9762\u8bd5\u9898/vue/vue\u54cd\u5e94\u5f0f\u7b80\u6613\u5b9e\u73b0",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/\u524d\u7aef/\u9762\u8bd5\u9898/vue/vue\u54cd\u5e94\u5f0f\u7b80\u6613\u5b9e\u73b0.md",tags:[],version:"current",frontMatter:{},sidebar:"webSidebar",previous:{title:"js \u9762\u8bd5\u9898",permalink:"/jimo-note/docs/\u524d\u7aef/\u9762\u8bd5\u9898/JavaScript/js\u9762\u8bd5\u9898"},next:{title:"vue\u9762\u8bd5\u9898",permalink:"/jimo-note/docs/\u524d\u7aef/\u9762\u8bd5\u9898/vue/vue\u9762\u8bd5\u9898"}},i={},u=[{value:"\u4f7f\u7528",id:"\u4f7f\u7528",level:2}];function d(e){const t={code:"code",h1:"h1",h2:"h2",pre:"pre",...(0,a.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.h1,{id:"vue-\u54cd\u5e94\u5f0f\u7b80\u6613\u5b9e\u73b0",children:"vue \u54cd\u5e94\u5f0f\u7b80\u6613\u5b9e\u73b0"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-javascript",children:"let activeEffect\nclass Dep {\n\tconstructor(value) {\n\t\tthis.subscribers = new Set()\n\t}\n\tdepend() {\n\t\tif (activeEffect) {\n\t\t\tthis.subscribers.add(activeEffect)\n\t\t}\n\t}\n\tnotify() {\n\t\tthis.subscribers.forEach((effect) => {\n\t\t\teffect()\n\t\t})\n\t}\n}\nfunction watchEffect(effect) {\n\tactiveEffect = effect\n\teffect()\n\tactiveEffect = null\n}\nconst targetMap = new WeakMap()\nfunction getDep(target, key) {\n\tlet depsMap = targetMap.get(target)\n\tif (!depsMap) {\n\t\tdepsMap = new Map()\n\t\ttargetMap.set(target, depsMap)\n\t}\n\tlet dep = depsMap.get(key)\n\tif (!dep) {\n\t\tdep = new Dep()\n\t\tdepsMap.set(key, dep)\n\t}\n\treturn dep\n}\nconst reactiveHandlers = {\n\tget(target, key, receiver) {\n\t\tconst dep = getDep(target, key)\n\t\tdep.depend()\n\t\treturn Reflect.get(target, key, receiver)\n\t},\n\tset(target, key, value, receiver) {\n\t\tconst dep = getDep(target, key)\n\t\tconst result = Reflect.set(target, key, value, receiver)\n\t\tdep.notify()\n\t\treturn result\n\t},\n}\nfunction reactive(raw) {\n\treturn new Proxy(raw, reactiveHandlers)\n}\n"})}),"\n",(0,r.jsx)(t.h2,{id:"\u4f7f\u7528",children:"\u4f7f\u7528"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-javascript",children:"const state = reactive({\n\tvalue: 0,\n})\nwatchEffect(() => {\n\tconsole.log(state.value)\n})\nstate.value = 1\n"})})]})}function p(e={}){const{wrapper:t}={...(0,a.a)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},1151:(e,t,n)=>{n.d(t,{Z:()=>o,a:()=>s});var r=n(7294);const a={},c=r.createContext(a);function s(e){const t=r.useContext(c);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),r.createElement(c.Provider,{value:t},e.children)}}}]);