"use strict";(self.webpackChunkjimo=self.webpackChunkjimo||[]).push([[6840],{5912:(e,n,d)=>{d.r(n),d.d(n,{assets:()=>o,contentTitle:()=>c,default:()=>x,frontMatter:()=>s,metadata:()=>r,toc:()=>h});var l=d(5893),i=d(1151);const s={},c="mongodb\u57fa\u7840",r={id:"\u6570\u636e\u5e93/mongodb/mongodb\u57fa\u7840",title:"mongodb\u57fa\u7840",description:"mongodb \u57fa\u672c\u4f7f\u7528",source:"@site/docs/\u6570\u636e\u5e93/mongodb/mongodb\u57fa\u7840.md",sourceDirName:"\u6570\u636e\u5e93/mongodb",slug:"/\u6570\u636e\u5e93/mongodb/mongodb\u57fa\u7840",permalink:"/jimo-note/docs/\u6570\u636e\u5e93/mongodb/mongodb\u57fa\u7840",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/\u6570\u636e\u5e93/mongodb/mongodb\u57fa\u7840.md",tags:[],version:"current",frontMatter:{},sidebar:"SQLSidebar",next:{title:"SQL",permalink:"/jimo-note/docs/\u6570\u636e\u5e93/mysql/SQL"}},o={},h=[{value:"mongodb \u57fa\u672c\u4f7f\u7528",id:"mongodb-\u57fa\u672c\u4f7f\u7528",level:2},{value:"MongoDB\u7684\u589e\u5220\u6539\u67e5",id:"mongodb\u7684\u589e\u5220\u6539\u67e5",level:2},{value:"mongodb\u4e2d\u5e38\u89c1\u7684\u6570\u636e\u7c7b\u578b\uff08\u4e86\u89e3\uff09",id:"mongodb\u4e2d\u5e38\u89c1\u7684\u6570\u636e\u7c7b\u578b\u4e86\u89e3",level:3},{value:"\u6dfb\u52a0\u6570\u636e",id:"\u6dfb\u52a0\u6570\u636e",level:3},{value:"\u4fee\u6539\u6570\u636e",id:"\u4fee\u6539\u6570\u636e",level:3},{value:"\u5220\u9664\u6570\u636e",id:"\u5220\u9664\u6570\u636e",level:3},{value:"\u67e5\u8be2\u6570\u636e",id:"\u67e5\u8be2\u6570\u636e",level:3},{value:"\u6bd4\u8f83\u8fd0\u7b97",id:"\u6bd4\u8f83\u8fd0\u7b97",level:4},{value:"\u903b\u8f91\u8fd0\u7b97\u7b26",id:"\u903b\u8f91\u8fd0\u7b97\u7b26",level:4},{value:"\u8303\u56f4\u8fd0\u7b97\u7b26",id:"\u8303\u56f4\u8fd0\u7b97\u7b26",level:4},{value:"\u6b63\u5219\u8868\u8fbe\u5f0f",id:"\u6b63\u5219\u8868\u8fbe\u5f0f",level:4},{value:"\u81ea\u5b9a\u4e49\u67e5\u6751",id:"\u81ea\u5b9a\u4e49\u67e5\u6751",level:4},{value:"skip,limit",id:"skiplimit",level:4},{value:"\u6295\u5f71",id:"\u6295\u5f71",level:4},{value:"\u6392\u5e8f",id:"\u6392\u5e8f",level:4},{value:"\u7edf\u8ba1",id:"\u7edf\u8ba1",level:4}];function t(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.a)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.h1,{id:"mongodb\u57fa\u7840",children:"mongodb\u57fa\u7840"}),"\n",(0,l.jsx)(n.h2,{id:"mongodb-\u57fa\u672c\u4f7f\u7528",children:"mongodb \u57fa\u672c\u4f7f\u7528"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"db"}),":\u5f53\u524d\u6b63\u5728\u4f7f\u7528\u7684\u6570\u636e\u5e93"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"show dbs"}),":\u663e\u793a\u6240\u6709\u6570\u636e\u5e93"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"show databases"}),":\u663e\u793a\u6240\u6709\u6570\u636e\u5e93"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"use xxxx"}),":\u8c03\u6574\u6570\u636e\u5e93"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"db.dropDatabase()"}),":\u5220\u9664\u6570\u636e\u5e93"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"show collections"}),":\u663e\u793a\u5f53\u524d\u6570\u636e\u5e93\u4e2d\u6240\u6709\u7684\u96c6\u5408\uff08\u8868\uff09"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"db.createCollection(name,{options})"}),"\u521b\u5efa\u96c6\u5408","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"capped:\u662f\u5426\u5377\u52a8\uff0csize:\u5927\u5c0f"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"db.collection._name.drop()"}),"\u5220\u9664\u96c6\u5408"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"db.collection_name.insert()"}),"\u5411\u96c6\u5408\u4e2d\u6dfb\u52a0\u6570\u636e\uff08\u5982\u679c\u8be5\u96c6\u5408\u4e0d\u5b58\u5728\uff0c\u81ea\u52a8\u521b\u5efa\uff09"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"db.collection_name.isCapped()"}),"\u5224\u65ad\u662f\u5426\u6709\u5bb9\u91cf\u4e0a\u9650\uff08\u5224\u65ad\u8be5\u96c6\u5408\u662f\u5426\u662f\u56fa\u5b9a\u5bb9\u91cf\u7684\u96c6\u5408\uff09"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"mongodb\u7684\u589e\u5220\u6539\u67e5",children:"MongoDB\u7684\u589e\u5220\u6539\u67e5"}),"\n",(0,l.jsx)(n.h3,{id:"mongodb\u4e2d\u5e38\u89c1\u7684\u6570\u636e\u7c7b\u578b\u4e86\u89e3",children:"mongodb\u4e2d\u5e38\u89c1\u7684\u6570\u636e\u7c7b\u578b\uff08\u4e86\u89e3\uff09"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"Object ID"}),":\u4e3b\u952eID"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"String"}),":\u5b57\u7b26\u4e32"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"Boolean"}),":\u5e03\u5c14\u503c"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"Integer"}),":\u6570\u5b57"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"Doube"}),":\u5c0f\u6570"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"Arrays"}),":\u6570\u7ec4"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"Object"}),":\u6587\u6863\uff08\u5173\u8054\u5176\u4ed6\u5bf9\u8c61\uff09",(0,l.jsx)(n.code,{children:"{sname:\u674e\u5609\u8bda\uff0csage:18,class:{cccc}}"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"Null"}),":\u7a7a\u503c"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"Timestamp"}),":\u65f6\u95f4\u6233"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"Date"}),":\u65f6\u95f4\u65e5\u671f"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"\u6dfb\u52a0\u6570\u636e",children:"\u6dfb\u52a0\u6570\u636e"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"db.collection_name.insert({\u5b57\u6bb5: \u503c,\u5b57\u6bb5: \u503c})\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u793a\u4f8b"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"db.stu.insert({name:'test',age:12})\n"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"\u5982\u679c\u96c6\u5408\u4e0d\u5b58\u5728\uff0c\u4f1a\u81ea\u52a8\u521b\u5efa"})}),"\n",(0,l.jsx)(n.h3,{id:"\u4fee\u6539\u6570\u636e",children:"\u4fee\u6539\u6570\u636e"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["update\u66f4\u65b0","\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"db.collection_name.update({\u6761\u4ef6},{\u4fee\u6539\u5185\u5bb9},{multi:\u662f\u5426\u591a\u6761\u6570\u636e\u4fee\u6539})\n"})}),"\n","\u793a\u4f8b","\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:'db.nor_col.update({name:"\u6a35\u592b"},{$set:{title:"alex",hobby:[\'\u62bd\u70df\',\'\u559d\u9152\',\'\u70eb\u5934\']}},{multi:true});\r\ndb.nor_col.update({name:"\u6a35\u592b"},{title:"alex"})\n'})}),"\n","$set\u548c\u6ca1\u6709$set\u7684",(0,l.jsx)(n.strong,{children:"\u533a\u522b"}),"\uff1a","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"$set\u53ea\u4f1a\u4fee\u6539\u5f53\u524d\u7ed9\u51fa\u7684\u5b57\u6bb5\uff0c\u5176\u4ed6\u5185\u5bb9\u4fdd\u7559"}),"\n",(0,l.jsx)(n.li,{children:"\u6ca1\u6709$set\u53ea\u4f1a\u4fdd\u7559\u5f53\u524d\u7ed9\u51fa\u5b57\u6bb5\uff0c\u5176\u4ed6\u5185\u5bb9\u5220\u9664"}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"mutil"}),"\u5982\u679c\u4e3atrue\uff0c\u5fc5\u987b\u7528",(0,l.jsx)(n.code,{children:"$set"}),",\u975e\u5076\u54e6\u5219\u62a5\u9519"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\u4fdd\u5b58(save)","\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"db.collection_name.save({\u5b57\u6bb5: \u503c,\u5b57\u6bb5: \u503c})\n"})}),"\n","\u6ce8\u610f\uff0c\u5982\u679c",(0,l.jsx)(n.code,{children:"save"}),"\u7684\u5185\u5bb9\u4e2d\u7684",(0,l.jsx)(n.code,{children:"_id"}),"\u5b58\u5728\u5c31\u66f4\u65b0\uff0c\u5982\u679c\u4e0d\u5b58\u5728\u5c31\u6dfb\u52a0"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"\u5220\u9664\u6570\u636e",children:"\u5220\u9664\u6570\u636e"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["reomve()","\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"db.collection_name.remove({\u6761\u4ef6},{justOne:true|false})\n"})}),"\n","\u793a\u4f8b","\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"db.stu.remove({name:'test'},{justOne:true|false})\n"})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["deleteOne()\u5220\u9664\u4e00\u6761","\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"db.collection_name.deleteOne({\u6761\u4ef6})\n"})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["deletetMany()\u5220\u9664\u591a\u6761","\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"db.collection_name.deleteMany({\u6761\u4ef6})\n"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"\u67e5\u8be2\u6570\u636e",children:"\u67e5\u8be2\u6570\u636e"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"db.collection_name.find({\u6761\u4ef6})\n"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"\u4e0d\u5199\u6761\u4ef6\u67e5\u8be2\u5168\u90e8"})}),"\n",(0,l.jsx)(n.h4,{id:"\u6bd4\u8f83\u8fd0\u7b97",children:"\u6bd4\u8f83\u8fd0\u7b97"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"\u7b49\u4e8e\uff1a\u9ed8\u8ba4\u662f\u7b49\u4e8e\u5224\u65ad\uff0cSeq"}),"\n",(0,l.jsx)(n.li,{children:"\u5c0f\u4e8e\uff1a`$lt(less than)"}),"\n",(0,l.jsx)(n.li,{children:"\u5c0f\u4e8e\u7b49\u4e8e\uff1a`$lte(less than equal)"}),"\n",(0,l.jsx)(n.li,{children:"\u5927\u4e8e\uff1a`$gt(greater than)"}),"\n",(0,l.jsx)(n.li,{children:"\u5927\u4e8e\u7b49\u4e8e\uff1a`$gte"}),"\n",(0,l.jsx)(n.li,{children:"\u4e0d\u7b49\u4e8e\uff1a$ne"}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"1 db.stu.find({age:28})\u67e5\u8be2\u5e74\u9f84\u662f28\u5c81\u7684\u5b66\u751f\u4fe1\u606f\r\n2 db.stu.find({age:{$eq:28}})\u67e5\u8be2\u5e74\u9f84\u662f28\u5c81\u7684\u5b66\u751f\u4fe1\u606f\r\n3 db.stu.find({age:{$gt:30}})\u67e5\u8be2\u5e74\u9f84\u5927\u4e8e30\u5c81\u7684\u5b66\u751f\r\n4 db.stu.find({age:{$lt:30}})\u67e5\u8be2\u5e74\u9f84\u5c0f\u4e8e30\u5c81\u7684\u5b66\u751f\r\n5 db.stu.find({age:{$gte:38}})\u67e5\u8be2\u5e74\u9f84\u5927\u4e8e\u7b49\u4e8e30\u5c81\u7684\u5b66\u751f\r\n6 db.stu.find({fage:{$lte:38}})\u67e5\u8be2\u5e74\u9f84\u5c0f\u4e8e\u7b49\u4e8e30\u5c81\u7684\u5b66\u751f\r\n7 db.stu.find({age:{$ne:38}})\u67e5\u8be2\u5e74\u9f84\u4e0d\u7b49\u4e8e38\u7684\u5b66\u751f\n"})}),"\n",(0,l.jsx)(n.h4,{id:"\u903b\u8f91\u8fd0\u7b97\u7b26",children:"\u903b\u8f91\u8fd0\u7b97\u7b26"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["and,",(0,l.jsx)(n.code,{children:"$and:[\u6761\u4ef61\uff0c\u6761\u4ef62]"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"db.stu.find({$and:[{age:{$gte:33}},{age:{$lt:100}}]})\r\ndb.stu.find({age:{$gte:33,$lt:100}})\n"})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["or,",(0,l.jsx)(n.code,{children:"$or:[\u6761\u4ef61\uff0c\u6761\u4ef62]"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"db.stu.find({$or:[{age:{$lt:30}},{age:{$gt:100}}]})\n"})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["nor","\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:'db.stu.find({$nor:[{age:{$lte:33}},{name:"\u6731\u5143\u748b"}]})\n'})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"\u8303\u56f4\u8fd0\u7b97\u7b26",children:"\u8303\u56f4\u8fd0\u7b97\u7b26"}),"\n",(0,l.jsxs)(n.p,{children:["\u4f7f\u7528",(0,l.jsx)(n.code,{children:"$in"}),",",(0,l.jsx)(n.code,{children:"$nin"}),"\u5224\u65ad\u6570\u636e\u662f\u5426\u5728\u67d0\u4e2a\u6570\u7ec4\u5185"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"db.stu.find({age:{$in:[33,35,38]}})\n"})}),"\n",(0,l.jsx)(n.h4,{id:"\u6b63\u5219\u8868\u8fbe\u5f0f",children:"\u6b63\u5219\u8868\u8fbe\u5f0f"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"db.stu.find({address: /^\u5317\u4eac/})\n"})}),"\n",(0,l.jsx)(n.h4,{id:"\u81ea\u5b9a\u4e49\u67e5\u6751",children:"\u81ea\u5b9a\u4e49\u67e5\u6751"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"db.stu.find({$where:function(){return this.age>50}})\n"})}),"\n",(0,l.jsx)(n.h4,{id:"skiplimit",children:"skip,limit"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"db.stu.find().skip(2).limit(2) \u8df3\u8fc72\u4e2a\uff0c\u63d0\u53d62\u4e2a\uff0c\u53ef\u4ee5\u505a\u5206\u9875\n"})}),"\n",(0,l.jsx)(n.h4,{id:"\u6295\u5f71",children:"\u6295\u5f71"}),"\n",(0,l.jsx)(n.p,{children:"\u6295\u5f71\u53ef\u4ee5\u63a7\u5236\u6700\u7ec8\u67e5\u8be2\u7684\u7ed3\u679c(\u5b57\u6bb5\u7b5b\u9009)"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"db.stu.find({},{name:1,age:1})\n"})}),"\n",(0,l.jsxs)(n.p,{children:["\u9700\u8981\u770b\u7684\u5b57\u6bb5\u7ed91\u5c31\u53ef\u4ee5\uff0c\u6ce8\u610f\uff1a",(0,l.jsx)(n.strong,{children:"\u9664\u4e86_id\u5916\uff0c0\u548c1\u4e0d\u80fd\u5171\u5b58"})]}),"\n",(0,l.jsx)(n.h4,{id:"\u6392\u5e8f",children:"\u6392\u5e8f"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"sort"}),",1\u5347\u5e8f\uff0c-1\u964d\u5e8f"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"db.stu.find().sort({age:1})\n"})}),"\n",(0,l.jsx)(n.h4,{id:"\u7edf\u8ba1",children:"\u7edf\u8ba1"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"count(\u6761\u4ef6)"}),"\u67e5\u8be2"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"db.stu.count({age:33})\n"})})]})}function x(e={}){const{wrapper:n}={...(0,i.a)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(t,{...e})}):t(e)}},1151:(e,n,d)=>{d.d(n,{Z:()=>r,a:()=>c});var l=d(7294);const i={},s=l.createContext(i);function c(e){const n=l.useContext(s);return l.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),l.createElement(s.Provider,{value:n},e.children)}}}]);