"use strict";(self.webpackChunkjimo=self.webpackChunkjimo||[]).push([[4547],{497:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>a,contentTitle:()=>c,default:()=>p,frontMatter:()=>o,metadata:()=>i,toc:()=>l});var r=n(5893),s=n(1151);const o={},c="\u521b\u5efa",i={id:"\u524d\u7aef/\u751f\u6001/react/vite+react\u9879\u76ee",title:"\u521b\u5efa",description:"\u6267\u884c\u547d\u4ee4npm create vite\uff0c\u7136\u540e\u6839\u636e\u6b65\u9aa4\u586b\u5199",source:"@site/docs/\u524d\u7aef/\u751f\u6001/react/vite+react\u9879\u76ee.md",sourceDirName:"\u524d\u7aef/\u751f\u6001/react",slug:"/\u524d\u7aef/\u751f\u6001/react/vite+react\u9879\u76ee",permalink:"/jimo-note/docs/\u524d\u7aef/\u751f\u6001/react/vite+react\u9879\u76ee",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/\u524d\u7aef/\u751f\u6001/react/vite+react\u9879\u76ee.md",tags:[],version:"current",frontMatter:{},sidebar:"webSidebar",previous:{title:"\u7eb9\u7406\u548c\u52a8\u753b",permalink:"/jimo-note/docs/\u524d\u7aef/\u751f\u6001/pixi/\u7eb9\u7406\u548c\u52a8\u753b"},next:{title:"\u8d77\u6b65",permalink:"/jimo-note/docs/\u524d\u7aef/\u751f\u6001/three/"}},a={},l=[{value:"\u5b89\u88c5\u4f9d\u8d56\u5e76\u8fd0\u884c",id:"\u5b89\u88c5\u4f9d\u8d56\u5e76\u8fd0\u884c",level:2},{value:"\u8def\u7531(react-router-dom)",id:"\u8def\u7531react-router-dom",level:2},{value:"ahooks \u4e00\u5957\u9ad8\u8d28\u91cf\u53ef\u9760\u7684 React Hooks \u5e93",id:"ahooks-\u4e00\u5957\u9ad8\u8d28\u91cf\u53ef\u9760\u7684-react-hooks-\u5e93",level:2},{value:"\u63a5\u53e3\u8bf7\u6c42\uff08axios\uff09",id:"\u63a5\u53e3\u8bf7\u6c42axios",level:2},{value:"antd",id:"antd",level:2},{value:"\u6309\u9700\u52a0\u8f7d\uff08vite-plugin-importer\uff09",id:"\u6309\u9700\u52a0\u8f7dvite-plugin-importer",level:2},{value:"\u79fb\u52a8\u7aef",id:"\u79fb\u52a8\u7aef",level:2},{value:"Antd Mobile",id:"antd-mobile",level:2},{value:"rem \u9002\u914dpostcss-pxtorem",id:"rem-\u9002\u914dpostcss-pxtorem",level:2},{value:"\u5f00\u53d1\u4f9d\u8d56",id:"\u5f00\u53d1\u4f9d\u8d56",level:2}];function d(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.h1,{id:"\u521b\u5efa",children:"\u521b\u5efa"}),"\n",(0,r.jsxs)(t.p,{children:["\u6267\u884c\u547d\u4ee4",(0,r.jsx)(t.code,{children:"npm create vite"}),"\uff0c\u7136\u540e\u6839\u636e\u6b65\u9aa4\u586b\u5199"]}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:"Project name\uff08\u9879\u76ee\u540d\uff09: react-demo"}),"\n",(0,r.jsx)(t.li,{children:"Select a framework\uff08\u9009\u62e9\u6a21\u677f\uff09: react"}),"\n",(0,r.jsx)(t.li,{children:"Select a variant\uff08\u9009\u62e9 ts \u6216 js\uff09: \xbb react-ts"}),"\n"]}),"\n",(0,r.jsx)(t.h2,{id:"\u5b89\u88c5\u4f9d\u8d56\u5e76\u8fd0\u884c",children:"\u5b89\u88c5\u4f9d\u8d56\u5e76\u8fd0\u884c"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{children:"cd react-demo\nnpm install\nnpm run dev\n"})}),"\n",(0,r.jsx)(t.h1,{id:"\u914d\u5957\u8bbe\u65bd",children:"\u914d\u5957\u8bbe\u65bd"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{children:"npm i react-router-dom qs axios ahooks --save\n"})}),"\n",(0,r.jsx)(t.h2,{id:"\u8def\u7531react-router-dom",children:(0,r.jsx)(t.a,{href:"https://reactrouter.com/",children:"\u8def\u7531(react-router-dom)"})}),"\n",(0,r.jsx)(t.p,{children:"\u5b89\u88c5"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{children:"npm install react-router-dom --save\n"})}),"\n",(0,r.jsxs)(t.p,{children:["\u4fee\u6539",(0,r.jsx)(t.code,{children:"main.tsx"}),"\u5982\u4e0b"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-tsx",children:"import React from 'react'\nimport ReactDOM from 'react-dom/client'\nimport { HashRouter } from 'react-router-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.createRoot(document.getElementById('root') as HTMLElement).render(\n\t<React.StrictMode>\n\t\t<HashRouter>\n\t\t\t<App />\n\t\t</HashRouter>\n\t</React.StrictMode>,\n)\n"})}),"\n",(0,r.jsxs)(t.p,{children:["\u5728",(0,r.jsx)(t.code,{children:"src"}),"\u4e0b\u521b\u5efa",(0,r.jsx)(t.code,{children:"router"}),"\u6587\u4ef6\u5939",(0,r.jsx)("br",{}),"\nroutes.tsx"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-tsx",children:"import { ComponentType, lazy, Suspense } from 'react'\nimport { Navigate, RouteObject } from 'react-router-dom'\n\ndeclare module 'react-router-dom' {\n\texport interface RouteObject {\n\t\tname?: string\n\t}\n}\n\nfunction getElement(factory: () => Promise<{ default: ComponentType<any> }>) {\n\tconst LazyNode = lazy(factory)\n\treturn (\n\t\t<Suspense fallback='...'>\n\t\t\t<LazyNode></LazyNode>\n\t\t</Suspense>\n\t)\n}\n\nconst routes: RouteObject[] = [\n\t{\n\t\tpath: '/',\n\t\tname: '\u9996\u9875',\n\t\telement: getElement(() => import('@/views/Home')),\n\t},\n\t...// 404\n\t{\n\t\tpath: '/*',\n\t\telement: <Navigate to='/'></Navigate>,\n\t},\n]\n\nexport default routes\n"})}),"\n",(0,r.jsx)(t.p,{children:"index.tsx"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-tsx",children:"import React, { ComponentType, ReactElement, lazy, Suspense } from 'react'\nimport { Route, RouteObject, Routes } from 'react-router-dom'\nimport routes from './routes'\n\nfunction BeforeRouter({ route, children }: { route: RouteObject; children: ReactElement }) {\n\treturn children\n}\n\nfunction RouteList(list: RouteObject[]) {\n\treturn (\n\t\t<>\n\t\t\t{list.map((route) => {\n\t\t\t\treturn (\n\t\t\t\t\t<Route path={route.path} element={route.element} key={route.path}>\n\t\t\t\t\t\t{route.children && RouteList(route.children)}\n\t\t\t\t\t</Route>\n\t\t\t\t)\n\t\t\t})}\n\t\t</>\n\t)\n}\n\nexport default function Router() {\n\treturn <Routes>{RouteList(routes)}</Routes>\n}\n"})}),"\n",(0,r.jsxs)(t.p,{children:["\u6700\u540e\u5728",(0,r.jsx)(t.code,{children:"app.tsx"}),"\u5f15\u5165"]}),"\n",(0,r.jsxs)(t.h2,{id:"ahooks-\u4e00\u5957\u9ad8\u8d28\u91cf\u53ef\u9760\u7684-react-hooks-\u5e93",children:[(0,r.jsx)(t.a,{href:"https://ahooks.js.org/zh-CN",children:"ahooks"})," \u4e00\u5957\u9ad8\u8d28\u91cf\u53ef\u9760\u7684 React Hooks \u5e93"]}),"\n",(0,r.jsx)(t.h2,{id:"\u63a5\u53e3\u8bf7\u6c42axios",children:(0,r.jsx)(t.a,{href:"https://www.axios-http.cn/",children:"\u63a5\u53e3\u8bf7\u6c42\uff08axios\uff09"})}),"\n",(0,r.jsx)(t.p,{children:"\u5b89\u88c5"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-html",children:"npm i qs axios --save\n"})}),"\n",(0,r.jsx)(t.h2,{id:"antd",children:(0,r.jsx)(t.a,{href:"https://ant.design/index-cn",children:"antd"})}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{children:"npm install antd --save\n"})}),"\n",(0,r.jsxs)(t.h2,{id:"\u6309\u9700\u52a0\u8f7dvite-plugin-importer",children:["\u6309\u9700\u52a0\u8f7d\uff08",(0,r.jsx)(t.a,{href:"https://github.com/ajuner/vite-plugin-importer",children:"vite-plugin-importer"}),"\uff09"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-html",children:"npm install vite-plugin-importer --save\n"})}),"\n",(0,r.jsx)(t.p,{children:"vite.config.ts"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-typescript",children:"import usePluginImport from 'vite-plugin-importer'\nexport default defineConfig({\n\tplugins: [\n\t\treact(),\n\t\tusePluginImport({\n\t\t\tlibraryName: 'antd',\n\t\t\tlibraryDirectory: 'es',\n\t\t\tstyle: 'css',\n\t\t}),\n\t],\n})\n"})}),"\n",(0,r.jsx)(t.h2,{id:"\u79fb\u52a8\u7aef",children:"\u79fb\u52a8\u7aef"}),"\n",(0,r.jsx)(t.h2,{id:"antd-mobile",children:(0,r.jsx)(t.a,{href:"https://mobile.ant.design/zh",children:"Antd Mobile"})}),"\n",(0,r.jsxs)(t.h2,{id:"rem-\u9002\u914dpostcss-pxtorem",children:["rem \u9002\u914d",(0,r.jsx)(t.a,{href:"https://www.npmjs.com/package/postcss-pxtorem",children:"postcss-pxtorem"})]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-html",children:"npm install postcss postcss-pxtorem --save-dev\n"})}),"\n",(0,r.jsx)(t.p,{children:"\u914d\u7f6e"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-javascript",children:"import pxtorem from 'postcss-pxtorem'\n\n// https://vitejs.dev/config/\nexport default defineConfig((mode) => {\n\treturn {\n\t\tplugins: [react()],\n\t\tcss: {\n\t\t\tpostcss: {\n\t\t\t\tplugins: [\n\t\t\t\t\tpxtorem({\n\t\t\t\t\t\trootValue: 37.5,\n\t\t\t\t\t\tpropList: ['*'],\n\t\t\t\t\t\texclude: /node_modules/i,\n\t\t\t\t\t}),\n\t\t\t\t],\n\t\t\t},\n\t\t},\n\t}\n})\n"})}),"\n",(0,r.jsx)(t.p,{children:"\u914d\u7f6e\u5b57\u4f53"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-javascript",children:"html:root{\n    font-size: calc(100vw / 10);//10|375   20|750\n}\n"})}),"\n",(0,r.jsx)(t.h2,{id:"\u5f00\u53d1\u4f9d\u8d56",children:"\u5f00\u53d1\u4f9d\u8d56"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["\u7c7b\u578b\u6587\u4ef6\uff1a",(0,r.jsx)(t.code,{children:"@types/node"}),"\u3001",(0,r.jsx)(t.code,{children:"@types/qs"})]}),"\n",(0,r.jsxs)(t.li,{children:["css \u9884\u5904\u7406\uff1a",(0,r.jsx)(t.code,{children:"scss|less"})]}),"\n"]}),"\n",(0,r.jsx)(t.p,{children:"\u5b89\u88c5"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-html",children:"npm i sass @types/node @types/qs --save-dev\n"})})]})}function p(e={}){const{wrapper:t}={...(0,s.a)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},1151:(e,t,n)=>{n.d(t,{Z:()=>i,a:()=>c});var r=n(7294);const s={},o=r.createContext(s);function c(e){const t=r.useContext(o);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:c(e.components),r.createElement(o.Provider,{value:t},e.children)}}}]);